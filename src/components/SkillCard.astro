---
const {
  skillName = "Nombre Habilidad",
  skillSubtitle = "subtitulo",
  imageSrc = "./assets/img/skills/default.png",
} = Astro.props;

const base = import.meta.env.BASE_URL ?? "/";
const normalizedBase = base.endsWith("/") ? base : `${base}/`;
const safeImageSrc = imageSrc.startsWith("http")
  ? imageSrc
  : `${normalizedBase}${imageSrc.replace(/^\.?\//, "")}`;
---

<div class="skill-card">
  <div class="skill-name">
    {skillName}
    <p>{skillSubtitle}</p>
  </div>
  <div class="img">
    <img src={safeImageSrc} />
  </div>
</div>

<style>
  div.skill-card {
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    gap: 16px;
    width: 235px;
    padding: 8px;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.03);

    & div.skill-name {
      display: flex;
      flex-direction: column;
      gap: 8px;
      width: 80%;
      color: #424257;
      text-transform: capitalize;

      & p {
        text-transform: capitalize;
        color: var(--text-muted);
      }
    }

    & div.img {
      width: 20%;
    }
  }
</style>
